objects:
  theKey:
    name: a brass key
    description: A small brass key with intricate designs on it.
achievements: {}
start_scene: theRoom
character:
  stats:
    intelligence: 100
  inventory: []
  achievements: []
scenes:
  theRoom:
    description: |
      You are in a small room with a door to the north.
      
      {%- if not inventory is containing("theKey") %}

      There is a key on the ground.
      {%- endif %}
    menu:
      TryLockedDoor:
        test: 
          not:
            inventory_contains: theKey
        description: Try the door.
        action: !AddStat
          - intelligence
          - -10
        next_scene: theRoom
      TryUnlockedDoor:
        test: 
          inventory_contains: theKey
        description: Try the door.
        action: !AddAchievement unlockedDoor
        next_scene: winnningRoom
      PickUpKey:
        test: 
          not:
            inventory_contains: theKey
        description: Pick up the key.
        next_scene: theRoom
        action: !AddToInventory theKey
  winnningRoom:
    description: |
      {% if achievements is containing("unlockedDoor") %}You unlock the door.{% endif %}

      You have won the game
      {%- if stats.intelligence > 70 %}!
      {%- else %}... barely.
      {%- endif %}
    menu: 
      Quit:
        description: Quit the game.
        action: !Win
        next_scene: winnningRoom

