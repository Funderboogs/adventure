objects:
  theKey:
    name: a brass key
    description: A small brass key with intricate designs on it.
commodities:
  money:
    name: monies
    description: How you pay for things
achievements: {}
start_scene: theRoom
character:
  stats:
    intelligence: 100
  inventory: []
  achievements: []
  commodities:
    money: 17
scenes:
  theHint:
    description: |
      You should pick up the key.
    menu:
      GoBack:
        description: Try it out.
        next_scene: theRoom
  theRoom:
    description: |
      You are in a small room with a door to the north.

      You have {{commodities.money}} monies.
      
      {%- if not inventory is containing("theKey") %}

      There is a key on the ground.
      {%- endif %}
    menu:
      GetHint:
        test:
          commodity_greater:
            - money
            - 5
        description: Get a hint for five moneys.
        action: !AddCommodity
          - money
          - -5
        next_scene: theHint
      TryLockedDoor:
        test: 
          not:
            inventory_contains: theKey
        description: Try the door.
        action: !AddStat
          - intelligence
          - -10
        next_scene: theRoom
      TryUnlockedDoor:
        test: 
          inventory_contains: theKey
        description: Try the door.
        action: !AddAchievement unlockedDoor
        next_scene: winnningRoom
      PickUpKey:
        test: 
          not:
            inventory_contains: theKey
        description: Pick up the key.
        next_scene: theRoom
        action: !AddToInventory theKey
  winnningRoom:
    description: |
      {% if achievements is containing("unlockedDoor") %}You unlock the door.{% endif %}

      You have won the game
      {%- if stats.intelligence > 70 %}!
      {%- else %}... barely.
      {%- endif %}
    menu: 
      Quit:
        description: Quit the game.
        action: !Win
        next_scene: winnningRoom

