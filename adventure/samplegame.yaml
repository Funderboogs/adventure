objects:
  theKey:
    name: a brass key
    description: A small brass key with intricate designs on it.
achievements: {}
start_scene: lockedRoom
character:
  stats:
    intelligence: 100
  inventory: []
  achievements: []
scenes:
  lockedRoom:
    description: |
      You are in a small room with a door to the north.

      There is a key on the ground.
    menu:
      TryDoor:
        test: 
          not:
            inventory_contains: theKey
        description: Try the door.
        action: !AddStat
          - intelligence
          - -10
        next_scene: lockedRoom
      PickUpKey:
        test: 
          not:
            inventory_contains: theKey
        description: Pick up the key.
        next_scene: unlockedRoom
        action: !AddToInventory theKey
  unlockedRoom:
    description: |
      You are in a small room with a door to the north.
    menu:
      TryDoorSmart:
        test: 
          and:
            - stat_greater: 
              - intelligence
              - 80
            - inventory_contains: theKey
        description: Try the door.
        action: !AddAchievement unlockedDoor
        next_scene: winnningRoom
      TryDoorDump:
        test: 
          and:
            - not:
                stat_greater: 
                  - intelligence
                  - 80
            - inventory_contains: theKey
        description: Try the door.
        action: !AddAchievement unlockedDoor
        next_scene: winnningRoomDumb
  winnningRoom:
    description: |
      You have won the game!
    menu: 
      Quit:
        description: Quit the game.
        action: !Win
        next_scene: winnningRoom
  winnningRoomDumb:
    description: |
      At last! You have won the game!
      
      Barely.
    menu: 
      Quit:
        description: Quit the game.
        action: !Win
        next_scene: winnningRoom



